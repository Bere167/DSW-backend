POST http://localhost:4000/api/usuario/login
Content-Type: application/json

{
  "user_usuario": "admin1",
  "contrase√±a": "admin123"
}

### COPIAR EL TOKEN ADMIN TAMBI√âN
//eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NiwidXNlcl91c3VhcmlvIjoiYWRtaW4xIiwidGlwb191c3VhcmlvIjoxLCJpYXQiOjE3NjE2MTE3NzQsImV4cCI6MTc2MTYxNTM3NH0.xoCry3l2CfDdbAtkUNeCHgQime-KIvRZFNRZXNee_Jg

POST http://localhost:4000/api/usuario/login
Content-Type: application/json

{
  "user_usuario": "juanperez",
  "contrase√±a": "123456"
}

### eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcl91c3VhcmlvIjoianVhbnBlcmV6IiwidGlwb191c3VhcmlvIjoyLCJpYXQiOjE3NjE2MTE5MjgsImV4cCI6MTc2MTYxNTUyOH0.yMk_Qty0uQCJkCATZouy2I3KYwdCT6HQ9gAujWjgKgA

### 11. üìä Ver todos los pedidos (admin)
GET http://localhost:4000/api/pedido
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NiwidXNlcl91c3VhcmlvIjoiYWRtaW4xIiwidGlwb191c3VhcmlvIjoxLCJpYXQiOjE3NjE2MTE3NzQsImV4cCI6MTc2MTYxNTM3NH0.xoCry3l2CfDdbAtkUNeCHgQime-KIvRZFNRZXNee_Jg


### 12. üîç Buscar pedidos por fecha (admin) 
GET http://localhost:4000/api/pedido/buscar-fecha?fecha=2025-10-28
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NiwidXNlcl91c3VhcmlvIjoiYWRtaW4xIiwidGlwb191c3VhcmlvIjoxLCJpYXQiOjE3NjE2MTE3NzQsImV4cCI6MTc2MTYxNTM3NH0.xoCry3l2CfDdbAtkUNeCHgQime-KIvRZFNRZXNee_Jg

### 13. üìß Buscar pedidos por email (admin)
GET http://localhost:4000/api/pedido/buscar-email?email=cliente1@test.com
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NiwidXNlcl91c3VhcmlvIjoiYWRtaW4xIiwidGlwb191c3VhcmlvIjoxLCJpYXQiOjE3NjE2MTE3NzQsImV4cCI6MTc2MTYxNTM3NH0.xoCry3l2CfDdbAtkUNeCHgQime-KIvRZFNRZXNee_Jg

### 11. Ver todos los pedidos para saber las fechas reales
GET http://localhost:4000/api/pedido
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcl91c3VhcmlvIjoiYWRtaW4iLCJ0aXBvX3VzdWFyaW8iOjEsImlhdCI6MTc2MTE2MTAzNCwiZXhwIjoxNzYxMTY0NjM0fQ.xRbHRStzJ1ltYiET1A99-_p-7U3IqswgmUD5aKhOkww

### 15. üì¶ Marcar como entregado (admin) - PROBAR con ID real
PUT http://localhost:4000/api/pedido/8/entregar
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NiwidXNlcl91c3VhcmlvIjoiYWRtaW4xIiwidGlwb191c3VhcmlvIjoxLCJpYXQiOjE3NjE2MTE3NzQsImV4cCI6MTc2MTYxNTM3NH0.xoCry3l2CfDdbAtkUNeCHgQime-KIvRZFNRZXNee_Jg

### 19. üõí Crear nuevo pedido desde carrito (cliente)
POST http://localhost:4000/api/pedido/crear-desde-carrito
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcl91c3VhcmlvIjoianVhbnBlcmV6IiwidGlwb191c3VhcmlvIjoyLCJpYXQiOjE3NjE2MTc3MjgsImV4cCI6MTc2MTYyMTMyOH0.0INcG4kPBx8IDyhsIJiE_8y-xM-5qXzJHIaQnNqb4vo

{
  "items": [
    {"id_producto": 4, "cantidad": 2},
    {"id_producto": 7, "cantidad": 2}
  ]
}

### 20. ‚ùå Intentar crear pedido sin login
POST http://localhost:4000/api/pedido/crear-desde-carrito
Content-Type: application/json

{
  "items": [{"id_producto": 1, "cantidad": 1}]
}

### 21. ‚ùå Producto inexistente
POST http://localhost:4000/api/pedido/crear-desde-carrito
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcl91c3VhcmlvIjoianVhbnBlcmV6IiwidGlwb191c3VhcmlvIjoyLCJpYXQiOjE3NjE2MTE5MjgsImV4cCI6MTc2MTYxNTUyOH0.yMk_Qty0uQCJkCATZouy2I3KYwdCT6HQ9gAujWjgKgA

{
  "items": [{"id_producto": 999, "cantidad": 1}]
}

### 22. ‚ùå Stock insuficiente
POST http://localhost:4000/api/pedido/crear-desde-carrito
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywidXNlcl91c3VhcmlvIjoiY2xpZW50ZTEiLCJ0aXBvX3VzdWFyaW8iOjIsImlhdCI6MTc2MTE2MTA3NSwiZXhwIjoxNzYxMTY0Njc1fQ.nOi4GTFwmg1JJSY2w8zsJDuGbitfyqnuvo2gKCxpP7I

{
  "items": [{"id_producto": 1, "cantidad": 1000}]
}

### 14. ‚úèÔ∏è Cambiar estado del pedido (admin) - FALTA PROBAR
PUT http://localhost:4000/api/pedido/3/estado
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NiwidXNlcl91c3VhcmlvIjoiYWRtaW4xIiwidGlwb191c3VhcmlvIjoxLCJpYXQiOjE3NjE2MTc0MjgsImV4cCI6MTc2MTYyMTAyOH0.wroSBMJLXIdpa6vxyqcSN2yWN6fEQnj6m0aXAKqR-ZY

{
  "estado_pedido": "procesando"
}

### 16. üóëÔ∏è Eliminar pedido (admin) - FALTA PROBAR
DELETE http://localhost:4000/api/pedido/3
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NiwidXNlcl91c3VhcmlvIjoiYWRtaW4xIiwidGlwb191c3VhcmlvIjoxLCJpYXQiOjE3NjIxMzI1MTgsImV4cCI6MTc2MjEzNjExOH0.cuXxBJtNGmC_cxgFLhnAz8FOf3B2j-HhWfesMrSm6hU

### 17. üìã Ver mis pedidos (cliente) - FALTA PROBAR
GET http://localhost:4000/api/pedido/mis-pedidos
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywidXNlcl91c3VhcmlvIjoiY2xpZW50ZTEiLCJ0aXBvX3VzdWFyaW8iOjIsImlhdCI6MTc2MTE2NDczMiwiZXhwIjoxNzYxMTY4MzMyfQ.nO6ylPsJa5OEGahYEXIRFhaBaMo4102lKy8XMMUlnJA

### 18. üîç Ver productos del pedido espec√≠fico - FALTA PROBAR
GET http://localhost:4000/api/productos-pedido/pedido/3
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NiwidXNlcl91c3VhcmlvIjoiYWRtaW4xIiwidGlwb191c3VhcmlvIjoxLCJpYXQiOjE3NjE2MTc2MzMsImV4cCI6MTc2MTYyMTIzM30.aBk_3nwK1pqsfxzrqcSoNijU2iL2_N7y2iKFtJ8ty9U
### 19. üí∞ Consultar precios (sin login) - FALTA PROBAR
POST http://localhost:4000/api/pedido/precios
Content-Type: application/json

{
  "productos": [1, 2, 4]
}

### 23. ‚ùå Cliente intentando acceder a rutas admin - FALTA PROBAR
GET http://localhost:4000/api/pedido
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywidXNlcl91c3VhcmlvIjoiY2xpZW50ZTEiLCJ0aXBvX3VzdWFyaW8iOjIsImlhdCI6MTc2MTE2NDczMiwiZXhwIjoxNzYxMTY4MzMyfQ.nO6ylPsJa5OEGahYEXIRFhaBaMo4102lKy8XMMUlnJA

### 24. ‚ùå Acceder con token inv√°lido - FALTA PROBAR
GET http://localhost:4000/api/pedido/mis-pedidos
Authorization: Bearer token_falso_123

### 25. üîç Ver pedido espec√≠fico (admin) - FALTA PROBAR
GET http://localhost:4000/api/pedido/3
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcl91c3VhcmlvIjoiYWRtaW4iLCJ0aXBvX3VzdWFyaW8iOjEsImlhdCI6MTc2MTE2NTE3NiwiZXhwIjoxNzYxMTY4Nzc2fQ.JtcL5tYt1l9RMn9gJsrtL6FSOwqe3c-Vkyy68XrXs2c

### 4. üóëÔ∏è Eliminar el pedido pendiente
DELETE http://localhost:4000/api/pedido/4
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NiwidXNlcl91c3VhcmlvIjoiYWRtaW4xIiwidGlwb191c3VhcmlvIjoxLCJpYXQiOjE3NjE2MTc2MzMsImV4cCI6MTc2MTYyMTIzM30.aBk_3nwK1pqsfxzrqcSoNijU2iL2_N7y2iKFtJ8ty9U

### 6. üõí Crear pedido y marcarlo como entregado
POST http://localhost:4000/api/pedido/crear-desde-carrito
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywidXNlcl91c3VhcmlvIjoiY2xpZW50ZTEiLCJ0aXBvX3VzdWFyaW8iOjIsImlhdCI6MTc2MTE2NDczMiwiZXhwIjoxNzYxMTY4MzMyfQ.nO6ylPsJa5OEGahYEXIRFhaBaMo4102lKy8XMMUlnJA

{
  "items": [
    {"id_producto": 1, "cantidad": 1}
  ]
}
### Anotar ID del pedido: ____

### 7. üì¶ Marcar como entregado
PUT http://localhost:4000/api/pedido/5/entregar
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcl91c3VhcmlvIjoiYWRtaW4iLCJ0aXBvX3VzdWFyaW8iOjEsImlhdCI6MTc2MTE2NTE3NiwiZXhwIjoxNzYxMTY4Nzc2fQ.JtcL5tYt1l9RMn9gJsrtL6FSOwqe3c-Vkyy68XrXs2c

### 8. ‚ùå Intentar eliminar pedido entregado (deber√≠a fallar)
DELETE http://localhost:4000/api/pedido/5
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcl91c3VhcmlvIjoiYWRtaW4iLCJ0aXBvX3VzdWFyaW8iOjEsImlhdCI6MTc2MTE2NTE3NiwiZXhwIjoxNzYxMTY4Nzc2fQ.JtcL5tYt1l9RMn9gJsrtL6FSOwqe3c-Vkyy68XrXs2c


// ...existing code...

### 9. üîç Ver qu√© productos est√°n en pedidos
GET http://localhost:4000/api/pedido
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcl91c3VhcmlvIjoiYWRtaW4iLCJ0aXBvX3VzdWFyaW8iOjEsImlhdCI6MTc2MTE2NTE3NiwiZXhwIjoxNzYxMTY4Nzc2fQ.JtcL5tYt1l9RMn9gJsrtL6FSOwqe3c-Vkyy68XrXs2c

### 10. ‚ùå Intentar eliminar producto que est√° en pedidos
DELETE http://localhost:4000/api/producto/7
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NiwidXNlcl91c3VhcmlvIjoiYWRtaW4xIiwidGlwb191c3VhcmlvIjoxLCJpYXQiOjE3NjIxMzI1MTgsImV4cCI6MTc2MjEzNjExOH0.cuXxBJtNGmC_cxgFLhnAz8FOf3B2j-HhWfesMrSm6hU
### 11. ‚ö†Ô∏è Intentar desactivar producto en lugar de eliminarlo
PUT http://localhost:4000/api/producto/2
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcl91c3VhcmlvIjoiYWRtaW4iLCJ0aXBvX3VzdWFyaW8iOjEsImlhdCI6MTc2MTE3NTgzOCwiZXhwIjoxNzYxMTc5NDM4fQ.8NnxUt9DE7Lxi42r9IDdCDXRHbtab6u_qWlFWJsgEoY

{
  "activo": false
}

### 12. ‚ùå Intentar crear pedido con producto desactivado
POST http://localhost:4000/api/pedido/crear-desde-carrito
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywidXNlcl91c3VhcmlvIjoiY2xpZW50ZTEiLCJ0aXBvX3VzdWFyaW8iOjIsImlhdCI6MTc2MTE3NjAwMSwiZXhwIjoxNzYxMTc5NjAxfQ.4YhniB2CixZs_7wguk11xmFXES2kfO5bg5wJeyviJAg

{
  "items": [
    {"id_producto": 1, "cantidad": 1}
  ]
}

### 13. üîÑ Reactivar producto
PUT http://localhost:4000/api/producto/1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NiwidXNlcl91c3VhcmlvIjoiYWRtaW4xIiwidGlwb191c3VhcmlvIjoxLCJpYXQiOjE3NjE2MTgyMDEsImV4cCI6MTc2MTYyMTgwMX0.5kBrkPGFnnhlgkHtBu3gNk-gNSfDCkopJ4C82XXOAvs

{
  "activo": true
}

// ...existing code...

### 30. Ver todos los productos como admin (incluye inactivos)
GET http://localhost:4000/api/producto/todos
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NiwidXNlcl91c3VhcmlvIjoiYWRtaW4xIiwidGlwb191c3VhcmlvIjoxLCJpYXQiOjE3NjE2MTgyMDEsImV4cCI6MTc2MTYyMTgwMX0.5kBrkPGFnnhlgkHtBu3gNk-gNSfDCkopJ4C82XXOAvs

### 31. Ver productos p√∫blicos (solo activos)
GET http://localhost:4000/api/producto

### 32. ‚úÖ Crear producto SIN pedidos para probar eliminaci√≥n completa
POST http://localhost:4000/api/producto
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcl91c3VhcmlvIjoiYWRtaW4iLCJ0aXBvX3VzdWFyaW8iOjEsImlhdCI6MTc2MTE4NDAxNiwiZXhwIjoxNzYxMTg3NjE2fQ.FvXtzoxMCDLyQ6-aLd9i4D0uc3CyXq1rJMfdhlzydrU

{
  "nombre_prod": "Producto Temporal Test",
  "desc_prod": "Este producto se puede eliminar completamente",
  "precio": 15.99,
  "cant_stock": 5,
  "id_tipoprod": 1
}

### 33. üóëÔ∏è Eliminar producto SIN pedidos (deber√≠a eliminarse completamente)
DELETE http://localhost:4000/api/producto/5
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcl91c3VhcmlvIjoiYWRtaW4iLCJ0aXBvX3VzdWFyaW8iOjEsImlhdCI6MTc2MTE3NTgzOCwiZXhwIjoxNzYxMTc5NDM4fQ.8NnxUt9DE7Lxi42r9IDdCDXRHbtab6u_qWlFWJsgEoY

### 34. üîÑ Reactivar producto desactivado 
PUT http://localhost:4000/api/producto/1/reactivar
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcl91c3VhcmlvIjoiYWRtaW4iLCJ0aXBvX3VzdWFyaW8iOjEsImlhdCI6MTc2MTE2NTE3NiwiZXhwIjoxNzYxMTY4Nzc2fQ.JtcL5tYt1l9RMn9gJsrtL6FSOwqe3c-Vkyy68XrXs2c


###############################################
# üè∑Ô∏è TESTING DE PRODUCTOS POR TIPO
###############################################

### 1. üìã Ver todas las categor√≠as disponibles (usando tu CRUD existente)
GET http://localhost:4000/api/tipoproducto

### 2. üñ•Ô∏è Ver productos de tipo 1 (tu nueva funcionalidad)
GET http://localhost:4000/api/producto/tipo/1

### 3. üíæ Ver productos de tipo 2 
GET http://localhost:4000/api/producto/tipo/2

### 4. üñ•Ô∏è Ver productos de tipo 3
GET http://localhost:4000/api/producto/tipo/3

### 5. ‚ùå Tipo inexistente (debe dar error 404)
GET http://localhost:4000/api/producto/tipo/999

### 6. ‚ùå Tipo inv√°lido (debe dar error 400)
GET http://localhost:4000/api/producto/tipo/abc

###############################################
# üõçÔ∏è FLUJO COMPLETO DE E-COMMERCE
###############################################

### Cliente ve p√°gina principal
GET http://localhost:4000/api/producto

### Cliente ve men√∫ de categor√≠as
GET http://localhost:4000/api/tipo-producto

### Cliente selecciona "Procesadores" (ID 1)
GET http://localhost:4000/api/producto/tipo/1

### Cliente selecciona producto espec√≠fico
GET http://localhost:4000/api/producto/1


### Prueba de crud prod_ped

### ¬†1. Ver todos los productos_pedido (admin)
GET http://localhost:4000/api/productos_pedido/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NiwidXNlcl91c3VhcmlvIjoiYWRtaW4xIiwidGlwb191c3VhcmlvIjoxLCJpYXQiOjE3NjE2ODYyNTIsImV4cCI6MTc2MTY4OTg1Mn0.Wb8VJinlWYGs-qQ0r1rlnrjURhyVk0UGMku9fYDmga4

### 2. Ver productos de un pedido espec√≠fico (admin)
GET http://localhost:4000/api/productos_pedido/3
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NiwidXNlcl91c3VhcmlvIjoiYWRtaW4xIiwidGlwb191c3VhcmlvIjoxLCJpYXQiOjE3NjE2ODYyNTIsImV4cCI6MTc2MTY4OTg1Mn0.Wb8VJinlWYGs-qQ0r1rlnrjURhyVk0UGMku9fYDmga4

### 3. Ver un producto puntual en un pedido (admin)
###(Reemplaza 3 por id_pedido y 4 por id_producto)
GET http://localhost:4000/api/productos_pedido/3/4
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NiwidXNlcl91c3VhcmlvIjoiYWRtaW4xIiwidGlwb191c3VhcmlvIjoxLCJpYXQiOjE3NjE2ODYyNTIsImV4cCI6MTc2MTY4OTg1Mn0.Wb8VJinlWYGs-qQ0r1rlnrjURhyVk0UGMku9fYDmga4

### 4. Agregar un producto a un pedido (admin)
POST http://localhost:4000/api/productos_pedido
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NiwidXNlcl91c3VhcmlvIjoiYWRtaW4xIiwidGlwb191c3VhcmlvIjoxLCJpYXQiOjE3NjE3MDg3NjEsImV4cCI6MTc2MTcxMjM2MX0.ngnkTwaNNOtw7cz-6Yggvm9UzipjBYiZz6HNkjo2lx8

{
  "id_pedido": 9,
  "id_producto": 4,
  "cantidad": 2
}

### 5. Actualizar cantidad de un producto en un pedido (admin)
PUT http://localhost:4000/api/productos_pedido/9/4
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NiwidXNlcl91c3VhcmlvIjoiYWRtaW4xIiwidGlwb191c3VhcmlvIjoxLCJpYXQiOjE3NjE3MDg3NjEsImV4cCI6MTc2MTcxMjM2MX0.ngnkTwaNNOtw7cz-6Yggvm9UzipjBYiZz6HNkjo2lx8

{
  "cantidad": 3
}

### 6. Eliminar un producto de un pedido (admin)
DELETE http://localhost:4000/api/productos_pedido/3/1
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NiwidXNlcl91c3VhcmlvIjoiYWRtaW4xIiwidGlwb191c3VhcmlvIjoxLCJpYXQiOjE3NjE3MDg3NjEsImV4cCI6MTc2MTcxMjM2MX0.ngnkTwaNNOtw7cz-6Yggvm9UzipjBYiZz6HNkjo2lx8

http://localhost:4000/uploads/productos/monitorcurvo.jpg